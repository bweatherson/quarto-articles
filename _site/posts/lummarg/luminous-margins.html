<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.479">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Brian Weatherson">
<meta name="dcterms.date" content="2004-07-01">
<meta name="description" content="Timothy Williamson has recently argued that few mental states are luminous, meaning that to be in that state is to be in a position to know that you are in the state. His argument rests on the plausible principle that beliefs only count as knowledge if they are safely true. That is, any belief that could easily have been false is not a piece of knowledge. I argue that the form of the safety rule Williamson uses is inappropriate, and the correct safety rule might not conflict with luminosity.">

<title>Online Articles - Brian Weatherson - Luminous Margins</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link rel="stylesheet" href="https://use.typekit.net/uzz2drx.css">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="floating nav-fixed slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Online Articles - Brian Weatherson</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://brian.weatherson.org"> <i class="bi bi-mortarboard" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://bsky.app/profile/bweatherson.bsky.social"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Luminous Margins</h1>
                  <div>
        <div class="description">
          <p>Timothy Williamson has recently argued that few mental states are luminous, meaning that to be in that state is to be in a position to know that you are in the state. His argument rests on the plausible principle that beliefs only count as knowledge if they are safely true. That is, any belief that could easily have been false is not a piece of knowledge. I argue that the form of the safety rule Williamson uses is inappropriate, and the correct safety rule might not conflict with luminosity.</p>
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">epistemology</div>
                <div class="quarto-category">notes</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author"><a href="http://brian.weatherson.org">Brian Weatherson</a> </p>
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              University of Michigan
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 1, 2004</p>
      </div>
    </div>
    
      
      <div>
      <div class="quarto-title-meta-heading">Doi</div>
      <div class="quarto-title-meta-contents">
        <p class="doi">
          <a href="https://doi.org/10.1080/713659874">10.1080/713659874</a>
        </p>
      </div>
    </div>
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Sections</h2>
   
  <ul>
  <li><a href="#luminosity" id="toc-luminosity" class="nav-link active" data-scroll-target="#luminosity"><span class="header-section-number">0.1</span> Luminosity</a></li>
  <li><a href="#williamsons-example" id="toc-williamsons-example" class="nav-link" data-scroll-target="#williamsons-example"><span class="header-section-number">0.2</span> Williamson’s Example</a></li>
  <li><a href="#reliability" id="toc-reliability" class="nav-link" data-scroll-target="#reliability"><span class="header-section-number">0.3</span> Reliability</a></li>
  <li><a href="#safety" id="toc-safety" class="nav-link" data-scroll-target="#safety"><span class="header-section-number">0.4</span> Safety</a></li>
  <li><a href="#retractions" id="toc-retractions" class="nav-link" data-scroll-target="#retractions"><span class="header-section-number">0.5</span> Retractions</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="luminous-margins.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block page-columns page-full" id="quarto-document-content">





<section id="luminosity" class="level3 page-columns page-full" data-number="0.1">
<h3 data-number="0.1" class="anchored" data-anchor-id="luminosity"><span class="header-section-number">0.1</span> Luminosity</h3>
<p>In <em>Knowledge and Its Limits</em> Timothy Williamson argues that few conditions are <em>luminous</em>. <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> A condition is luminous iff we know we are in it whenever we are. Slightly more formally, Williamson defines</p>
<div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;<span class="citation" data-cites="Williamson2000-WILKAI">Williamson (<a href="#ref-Williamson2000-WILKAI" role="doc-biblioref">2000</a>)</span> Ch. 4; all references to this book unless otherwise specified.</p></li></div><aside>
<p>Published in 83: 373-383.</p>
Thanks to Tamar Szabó Gendler, John Hawthorne, Chris Hill, Ernest Sosa and the ’s referees.
</aside>
<blockquote class="blockquote">
<p>A condition C is defined to be <em>luminous</em> if and only if (L) holds:</p>
<dl>
<dt>(L)</dt>
<dd>
<p>For every case <span class="math inline">\({\alpha}\)</span>, if in <span class="math inline">\({\alpha}\)</span> C obtains, then in <span class="math inline">\({\alpha}\)</span> one is in a position to know that C obtains (95).</p>
</dd>
</dl>
</blockquote>
<p>Intuitively, the argument against this is as follows. The following three conditions are incompatible.</p>
<dl>
<dt>Gradual Change</dt>
<dd>
<p>There is a series of cases, each very similar to adjacent cases, that starts with a case where C clearly obtains, and ends with a case where C clearly doesn’t obtain.</p>
</dd>
<dt>Luminosity</dt>
<dd>
<p>Whenever C obtains you can know it does.</p>
</dd>
<dt>Safety</dt>
<dd>
<p>Only safe beliefs count as knowledge, so whenever you can know that C obtains, C obtains in all very similar cases.</p>
</dd>
</dl>
<p>Luminosity and Safety entail</p>
<dl>
<dt>Tolerance</dt>
<dd>
<p>Whenever C obtains, it obtains in all very similar cases.</p>
</dd>
</dl>
<p>But Tolerance is incompatible with Gradual Change, since Tolerance entails that if the first member of the series is a case where C obtains, then every successive member is also a case where C obtains. Williamson argues that for any interesting epistemic condition, Gradual Change is a clear possibility. And he argues that Safety is a general principle about knowledge. So Luminosity must be scrapped. The counterexamples to Luminosity we get from following this proof through are always borderline cases of C obtaining. In these cases Luminosity fails because any belief that C did obtain would be unsafe, and hence not knowledge.</p>
<p>I will argue, following <span class="citation" data-cites="Sainsbury1996">Sainsbury (<a href="#ref-Sainsbury1996" role="doc-biblioref">1995</a>)</span>, that Williamson has misinterpreted the requirement that knowledge be safe. The most plausible safety condition might be compatible with Gradual Change and Luminosity, if we make certain plausible assumptions about the structure of phenomenal beliefs.</p>
<p>One consequence of the failure of Luminosity is that a certain historically important kind foundationalist analysis of knowledge fails. This kind of foundationalist takes the foundations to be luminous. Although I think Williamson’s argument against Luminosity does not work, my objections are no help to the foundationalist. As I said, my objection to Williamson rests on certain assumptions about the structure of phenomenal beliefs. It is a wide open empirical and philosophical question whether these assumptions are true. If this kind of foundationalism provided a plausible <em>analysis</em> of knowledge, then it would be a wide open question whether our purported knowledge rested on any foundations, and hence a wide open question whether we really had any knowledge. But this is a closed question. It is a Moorean fact that we know many things. So while I object to Williamson’s claim that we have no luminous mental states, I do not object to the weaker claim that we <em>might</em> not have any luminous mental states, and this claim is enough to do much of the philosophical work to which Williamson puts Luminosity.</p>
</section>
<section id="williamsons-example" class="level3" data-number="0.2">
<h3 data-number="0.2" class="anchored" data-anchor-id="williamsons-example"><span class="header-section-number">0.2</span> Williamson’s Example</h3>
<p>Williamson suggests that (L), the formal rendition of Luminosity, fails for all interesting conditions even if we restrict the quantifier to those that are ‘physically and psychologically feasible’ [94], and I will assume that is what we are quantifying over. To argue that (L) fails for any interesting C, Williamson first argues that it fails in a special case, when C is the condition <em>feeling cold</em>, and then argues that the conditions that lead to failure here are met for any other interesting C. So I will also focus on the special case.</p>
<p>Mr Davis’s apartment faces southwest, so while it is often cold in the mornings it always warms up as the midday and afternoon sun streams in. This morning Mr Davis felt cold when he awoke, but now at noon he is quite warm, almost hot. But the change from wake-up time to the present is rather gradual. Mr Davis does not take a hot bath that morning, nor cook a hot breakfast, but sits reading by the window until the sun does its daily magic. Assume, for the sake of the argument, that <em>feeling cold</em> is luminous, so whenever Mr Davis feels cold, he knows he feels cold. Williamson argues this leads to a contradiction as follows. (I’ve changed names and pronouns to conform with my example.)</p>
<blockquote class="blockquote">
<p>Let <em>t</em><sub>0</sub>, <em>t</em><sub>1</sub>, …, <em>t<sub>n</sub></em> be a series of times at one millisecond intervals from dawn to noon. Let <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em> be the case at <em>t<sub>i</sub></em> (0 <span class="math inline">\({\leq}\)</span>&nbsp;<em>i</em>&nbsp;<span class="math inline">\({\leq}\)</span>&nbsp;<em>n</em>). Consider a time <em>t<sub>i</sub></em> between <em>t</em><sub>0</sub> and <em>t<sub>n</sub></em>, and suppose that at <em>t<sub>n</sub></em> Mr Davis knows that he feels cold. … Now at <em>t<sub>i</sub></em><sub>+1</sub> he is almost equally confident that he feels cold, by the description of the case. So if he does not feel cold at <em>t<sub>i</sub></em><sub>+1</sub>, then his confidence at <em>t<sub>i</sub></em> that he feels cold is not reliably based, for his almost equal confidence on a similar basis one millisecond earlier that he felt cold was misplaced … His confidence at <em>t<sub>i</sub></em> was reliably based in the way required for knowledge only if he feels cold at <em>t<sub>i</sub></em><sub>+1</sub>. In the terminology of cases…:</p>
<p>(<span class="smallcaps">i</span><em><sub>i</sub></em>) If in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em> he knows that he feels cold, then in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em><sub>+1</sub> he feels cold. (97)</p>
</blockquote>
<p>Given (L), all instances of (<span class="smallcaps">i</span><em><sub>i</sub></em>), and the fact that Mr Davis feels cold when he awakes, we get the false conclusion that he now feels cold. So if we accept all instances of (<span class="smallcaps">i</span><em><sub>i</sub></em>), we must conclude that (L) is false when C is <em>feeling cold</em> and ‘one’ denotes Mr Davis. Why, then, accept (<span class="smallcaps">i</span><em><sub>i</sub></em>)? One move Williamson makes here is purely defensive. He notes that (<span class="smallcaps">i</span><em><sub>i</sub></em>) is different from the conditionals that lead to paradox in the Sorites argument. The antecedent of (<span class="smallcaps">i</span><em><sub>i</sub></em>) contains the modal operator <em>knows that</em> absent from its consequent, so we cannot chain together instances of (<span class="smallcaps">i</span><em><sub>i</sub></em>) to produce an implausible conditional claim. If that operator were absent then from all the instances of (<span class="smallcaps">i</span><em><sub>i</sub></em>) it would follow that if Mr Davis feels cold at dawn he feels cold at noon, which is false. But by strengthening the antecedent, Williamson weakens (<span class="smallcaps">i</span><em><sub>i</sub></em>) to avoid that conclusion. But the fact that (<span class="smallcaps">i</span><em><sub>i</sub></em>) is not paradoxical is not sufficient reason to accept it.</p>
</section>
<section id="reliability" class="level3" data-number="0.3">
<h3 data-number="0.3" class="anchored" data-anchor-id="reliability"><span class="header-section-number">0.3</span> Reliability</h3>
<p>It is useful to separate out two distinct strands in Williamson’s argument for (<span class="smallcaps">i</span><em><sub>i</sub></em>). One strand sees Williamson arguing for (<span class="smallcaps">i</span><em><sub>i</sub></em>) by resting on the principle that beliefs constitute knowledge only if they are reliably based. The idea is that if Mr Davis’s belief that he feels cold is a bit of knowledge, it is reliable, and if it is reliable it is true in all similar situations, and hence it is true in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em><sub>+1</sub>. The other strand sees him appealing to a vague but undoubtedly real requirement that beliefs must be <em>safely</em> true in order to be knowledge. Neither argument is successful, though the second kind of argument is better than the first.</p>
<p>Williamson acknowledges Conee and Feldman’s arguments that no reliabilist epistemologist has yet solved the generality problem (100). But he takes this to be reason to abandon not the concept of reliability, but the hope of providing a reductive analysis of it. Williamson thinks we can get a long way by just resting on the intuitive concept of reliability. This seems to be a mistake. There are two ordinary ways of using ‘reliable’ in the context of discussing beliefs, and neither provides support for (<span class="smallcaps">i</span><em><sub>i</sub></em>).</p>
<p>First, and this is clearly not what is needed, sometimes ‘reliable’ just means true. This is the sense of the word in which we can consistently say, “It turned out the information that old Ronnie provided us about where the gov’nor was eating tonight was reliable, which was plenty surprising since Ronnie hadn’t been right about anything since the Nixon administration.” This is the sense in which reliable means just what the etymology suggests it means, something that can be relied upon. And that means, in practice, <em>true</em>. But that won’t help at all, for if ‘reliable’ just means true, then nothing follows from the fact that knowledge is reliable that does not follow from the fact that it is factive.</p>
<p>Second, there is a distinctively philosophical sense in which reliable means something more like true in a wide range of circumstances. This is the sense in which a stopped clock is not even reliable twice a day. At first, this might look to help Williamson a little more. But if philosophical usage is to be key, the second look is more discouraging. For in its philosophical usage, reliability does not even entail truth. And if reliability does not entail truth in the actual situation, it surely does not entail truth in nearby situations. But Williamson’s argument for (<span class="smallcaps">i</span><em><sub>i</sub></em>) requires that reliability in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em> entails truth in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em><sub>+1</sub>. So on neither of its natural readings does the concept of reliability seal the argument here, and since we have no unnatural reading to fall back upon, the argument from reliability for (<span class="smallcaps">i</span><em><sub>i</sub></em>) fails. To be fair, by chapter 5 of Williamson’s book the concept of reliability that seems to be employed is little distinguishable from the concept of safety. So let us turn to those arguments.</p>
</section>
<section id="safety" class="level3 page-columns page-full" data-number="0.4">
<h3 data-number="0.4" class="anchored" data-anchor-id="safety"><span class="header-section-number">0.4</span> Safety</h3>
<p>Williamson at times suggests that the core argument for (<span class="smallcaps">i</span><em><sub>i</sub></em>) is a straight appeal to intuition. “[E]ven when we can appeal to rigorous rules, they only postpone the moment at which we must apply concepts in particular cases on the basis of good judgement. … The argument for (<span class="smallcaps">i</span><em><sub>i</sub></em>) appeals to such judgement.” (101) The appeal to intuition is the royal road to scepticism, so we would be justified in being a little wary of it. <span class="citation" data-cites="Weinberg2001">Weinberg, Stich, and Nichols (<a href="#ref-Weinberg2001" role="doc-biblioref">2001</a>)</span> discovered that undergraduates from the same social class as Williamson, Mr Davis and I would frequently judge that a subject could not know that mule was a mule unless he could tell it apart from a cleverly painted zebra. The judgements of that class are not obviously the basis for a sane epistemology.</p>
<p>Williamson undersells his argument by making it an appeal to judgement. For there is a principle here, if not a rigorous rule, that grounds the judgement. The principle is something like Ernest Sosa’s safety principle. The idea is that a belief does not constitute knowledge if it is false in similar situations. “[N]ot easily would S believe that <em>p</em> without it being the case that <em>p</em>.” <span class="citation" data-cites="Sosa1999">(<a href="#ref-Sosa1999" role="doc-biblioref">Sosa 1999, 142</a>)</span> There is much to be said here about what is a <em>similar</em> situation. (David <span class="citation" data-cites="Lewis1996b">Lewis (<a href="#ref-Lewis1996b" role="doc-biblioref">1996</a>)</span> discusses a concept of similarity in the context of saying that worlds can be <em>salient</em>, in his sense, in virtue of being similar to salient worlds.) It might turn out that there is no account of similarity that makes it plausible that this is a constraint on knowledge. But for present purposes I am prepared to grant (a) that only safe beliefs count as knowledge, and (b) that <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em><sub>+1</sub> is a similar situation to <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em>.</p>
<p>This might seem like too much of a concession to Williamson, for it already conflicts with some platitudes about knowledge. Consider a case that satisfies the following three conditions. Some light reflects off a leopard some distance away and strikes our eyes. The impact of that light causes, by the normal processes, a belief that a leopard is nearby to appear in our belief box. Beliefs, including leopard-related beliefs, that we form by this kind of process are on the whole very reliable. You might think these conditions are sufficient for our belief to count as <em>knowledge</em> that a tiger is present. The proponent of Safety denies this. She says that if, for example, there are several cheetahs with a particularly rare mutation that make the look much like leopards around, and if we saw them at similar distance we would have mistaken them for leopards. Since we could easily have had the belief that a leopard is nearby while there were no leopards, only cheetahs, nearby, the belief is not safe and so does not count as knowledge.</p>
<p>There are two reasons to think that safety is too strong here, neither of which strike me as completely compelling. (I’m still conceding things to Williamson here. If there’s a general objection to Safety then his argument against Luminosity does not get off the ground. That’s not my position. As I’ll soon argue, I think Williamson has misinterpreted Safety.) The first reason is a worry that if we deny knowledge in a case of reliable veridical perception, we are conceding too much to the sceptic. But the proponent of Safety has a very good reason to distinguish this case from my current veridical perception of a table - my perception is safe and the perception of a leopard is not. So there is no slippery slope to scepticism here. The second is that the allegedly similar case is not really that similar, because in that case the belief is caused by a <em>cheetah</em>, not a <em>leopard</em>. But to regard cases where the evidence is different in this way as being dissimilar is to make the safety condition impotent, and Sosa has shown that we need <em>some</em> version of Safety to account for our intuitions about different cases.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="no-row-height column-margin column-container"><li id="fn2"><p><sup>2</sup>&nbsp;I assume here a relatively conservative epistemological methodology, one that says we should place a high priority on having our theories agree with our intuitive judgments. I’m in favour of a more radical methodology that makes theoretical virtues as important as agreement with particular intuitions <span class="citation" data-cites="Weatherson2003-WEAWGA">Weatherson (<a href="#ref-Weatherson2003-WEAWGA" role="doc-biblioref">2003</a>)</span>. On the radical view Safety might well be abandoned. But on that view knowledge might be merely true belief, or merely justified true belief, so the argument for Luminosity will be a non-starter. But the argument of this paper does not rest on these radical methodological principles. The position I’m defending is that, supposing a standard methodological approach, we should accept a Safety principle. But as I’ll argue, the version of Safety Williamson adopts is not appropriate, and the appropriate version does not necessarily support the argument against Luminosity.</p></li></div><p>So I think some version of Safety should be adopted. I don’t think this gives us (<span class="smallcaps">i</span><em><sub>i</sub></em>), for reasons related to some concerns first raised by Mark <span class="citation" data-cites="Sainsbury1996">Sainsbury (<a href="#ref-Sainsbury1996" role="doc-biblioref">1995</a>)</span>. The role for Safety condition in a theory of knowledge is to rule out knowledge by lucky guesses. This includes lucky guesses in mathematics. If Mr Davis guesses that 193 plus 245 is 438, he does not thereby know what 193 plus 245 is. Can Safety show why this is so? Yes, but only if we phrase it in a certain way. Assume that we have a certain belief <em>B</em> with content <em>p</em>. (As it might be, Mr Davis’s belief with content 193 + 245 = 438.) Then the following two conditions both have claims to being the correct analysis of ‘safe’ as it appears in Safety.</p>
<dl>
<dt>Content-safety</dt>
<dd>
<p><em>B</em> is safe iff <em>p</em> is true in all similar worlds.</p>
</dd>
<dt>Belief-safety</dt>
<dd>
<p><em>B</em> is safe iff <em>B</em> is true in all similar worlds.</p>
</dd>
</dl>
<p>If we rest with content-safety, then we cannot explain why Mr Davis’s lucky guess does not count as knowledge. For in all nearby worlds, the content of the belief he actually has is true. If we use belief-safety as our condition though, I think we can show why Mr Davis has not just got some mathematical knowledge. The story requires following Marian David’s good advice for token physicalists and rejecting content essentialism about belief (<span class="citation" data-cites="David2002">David (<a href="#ref-David2002" role="doc-biblioref">2002</a>)</span>; see also <span class="citation" data-cites="Gibbons1993">Gibbons (<a href="#ref-Gibbons1993" role="doc-biblioref">1993</a>)</span>. The part of Mr Davis’s brain that currently instantiates a belief that 193 plus 245 is 438 could easily have instantiated a belief that 193 plus 245 is 338, for Mr Davis is not very good at carrying hundreds while guessing. If, as good physicalists, we identify his belief with the part of the brain that instantiates it, we get the conclusion that this very belief could have had the <em>false</em> content that 193 plus 245 is 338. So the belief is not safe, and hence it is not knowledge.</p>
<p>This lends some credence to the idea that it’s belief-safety, not content-safety, that’s the important safety criteria. When talking about Mr Davis’s mathematical hunches, belief-safety is a stronger condition than content-safety. But when talking about his feelings, things may be reversed.</p>
<p>Let me tell you a little story about how Mr Davis’s mind is instantiated. Mr Davis’s phenomenal beliefs do not arise from one part of his brain, his belief box or mind’s eye, tracking another part, the part whose states constitute his feeling cold. Rather, when he is in some phenomenal state, the very same brain states constitute both the phenomena and a belief about the phenomena. Mr Davis’s brain is so wired that he could not have any sensation of radiant heat (or lack thereof) without his <em>thereby</em> believing that he is having just that sensation, because he could not have felt cold without that feeling itself being a belief that he felt cold. In that case, belief-safety will not entail (<span class="smallcaps">i</span><em><sub>i</sub></em>). Imagine that at <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em> Mr Davis feels cold, but at <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em><sub>+1</sub> he does not. (I assume here, with Williamson, that there is such an <em>i</em>.) At <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em> he thereby believes that he feels cold. The content of that belief is a <em>de se</em> proposition that is false at <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em><sub>+1</sub>, so it violates content-safety. But in <span class="math inline">\({\alpha}\)</span><em><sub>t</sub></em><sub>+1</sub> that part of his brain does not constitute his feeling cold (for he does not feel cold), and thereby does not constitute his believing that he feels cold. By hypothesis, by that time no part of his brain constitutes feeling cold. So the belief in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em> that he feels cold is not false in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em><sub>+1</sub>; it either no longer exists, or now has the true content that Mr Davis does not feel cold. So belief-safety does not prevent this belief of Mr Davis’s from being knowledge. And indeed, it seems rather plausible that it <em>is</em> knowledge, for he could not have had just <em>this</em> belief without it being true. This belief violates content-safety but not belief-safety, and since we have no reason to think that content-safety rather than belief-safety is the right form of the safety constraint, we have no reason to reject the intuition that this belief, this more or less infallible belief, counts as a bit of knowledge.</p>
<p>This story about Mr Davis’s psychology might seem unbelievable, so let me clear up some details. Mr Davis has both phenomenal and judgemental beliefs about his phenomenal states. The phenomenal beliefs are present when and only when the phenomenal states are present. The judgemental beliefs are much more flexible, they are nomically independent of the phenomena they describe. The judgemental beliefs are grounded in ‘inner perceptions’ of his phenomenal states. The phenomenal beliefs are not, they just are the phenomenal states. The judgemental beliefs can be complex, as in a belief that <em>I feel cold iff it is Monday</em>, while the phenomenal beliefs are always simple. It is logically possible that Mr Davis be wired so that he feel cold without believing he feels cold, but it is not an accident that <em>he</em> is so wired. Most of his conspecifics are similarly set up. It is possible that at a particular time Mr Davis has <em>both</em> a phenomenal belief and a judgemental belief that he feels cold, with the beliefs being instantiated in different parts of his brain. If he has both of these beliefs in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em>, then Williamson’s argument may well show that the judgemental belief does not count as knowledge, for it could be false in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em><sub>+1</sub>. If he has the judgemental belief that he is not cold in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em>, then the phenomenal belief that he is cold may not be knowledge, for it is plausible that the existence of a contrary belief defeats a particular belief’s claim to knowledge. But that does not mean that he is not <em>in a position to know</em> that he is cold in <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em>.</p>
<p>Some may object that it is conceptually impossible that a brain state that instantiates a phenomenal feel should also instantiate a belief. And it is true that Mr Davis’s phenomenal states do not have some of the features that we typically associate with beliefs. These states are relatively unstructured, for example. Anyone who thinks that it is a conceptual truth that mental representations are structured like linguistic representations will think that Mr Davis could not have the phenomenal beliefs I have ascribed to him. But it is very implausible that this is a <em>conceptual</em> truth. The best arguments for the language of thought hypothesis rest on empirical facts about believers, especially the facts that mental representation is typically productive and systematic. If there are limits to how productive and systematic Mr Davis’s phenomenal representations are, then it is possible that his phenomenal states are beliefs. Certainly those states are correlated with inputs (external states of affairs) and outputs (bodily movements, if not actions) to count as beliefs on some functionalist conceptions of belief.</p>
<p>A referee noted that we don’t <em>need</em> the strong assumption that phenomenal states can be beliefs to make the argument here, though it probably is the most illumination example. Either of the following stories about Mr Davis’s mind could have done. First, Mr Davis’s phenomenal belief may be of the form “I feel <span class="math inline">\({\phi}\)</span>”, where “I” and “feel” are words in Mr Davis’s language of thought, and <span class="math inline">\({\phi}\)</span> is the phenomenal state, functioning as a name for itself. As long as the belief arises whenever Mr Davis is <span class="math inline">\({\phi}\)</span>, and it has the phenomenal state as a constituent, it can satisfy belief-safety even when content-safety fails. The second option involves some more contentious assumptions. The phenomenal belief may be of the form “I feel thus”, where the demonstrative picks out the phenomenal state. As long as it is essential to the belief that it includes a demonstrative reference to that phenomenal state, it will satisfy belief-safety. This is more contentious because it might seem plausible that a particular demonstrative belief could have picked out a different state. What won’t work, of course, is if the phenomenal belief is “I feel <em>F</em>”, where <em>F</em> is an attempted description of the phenomenal state. That certainly violates every kind of safety requirement. I think it is plausible that phenomenal states could be belief states, but if you do not believe that it is worth noting the argument could possibly go through without it, as illustrated in this paragraph.</p>
<p>Mr Davis is an interesting case because he shows just how strong a safety assumption we need to ground (<span class="smallcaps">i</span><em><sub>i</sub></em>). For Mr Davis is a counterexample to (<span class="smallcaps">i</span><em><sub>i</sub></em>), but his coldness beliefs satisfy many plausible safety-like constraints. For example, his beliefs about whether he feels cold are sensitive to whether he feels cold. Williamson (Ch. 7) shows fairly conclusively that knowledge does not entail sensitivity, so one might have thought that in interesting cases sensitivity would be too strong for what is needed, not too weak as it is here. From this it follows that any safety condition that is strictly weaker than sensitivity, such as the condition that the subject could not easily believe <em>p</em> and be wrong, is not sufficient to support (<span class="smallcaps">i</span><em><sub>i</sub></em>). Williamson slides over this point by assuming that the subject will be almost as confident that he feels cold at <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em><sub>+1</sub> as he is at <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em>. This is no part of the description of the case, as Mr Davis shows.</p>
<p>My argument above rests on the denial of content essentialism, which might look like a relatively unsafe premise. So to conclude this section, let’s see how far the argument can go without that assumption. Sainsbury responds to his example, the lucky arithmetic guess, by proposing a different version of safety: mechanism-safety.</p>
<dl>
<dt>Mechanism-safety</dt>
<dd>
<p><em>B</em> is safe iff the mechanism that produced <em>B</em> produces true beliefs in all similar worlds.</p>
</dd>
</dl>
<p>I didn’t want to rest on this too much because I think it’s rather hard to say exactly what the mechanism is that produces Mr Davis’s belief that he feels cold. But if it’s just his sensory system, then I think it is clear that even at <span class="math inline">\({\alpha}\)</span><em><sub>i</sub></em>, Mr Davis’s belief that he feels cold satisfies mechanism-safety. The bigger point here is that content-safety is a very distinctive kind of safety claim, but it’s the only kind that justifies (<span class="smallcaps">i</span><em><sub>i</sub></em>).</p>
</section>
<section id="retractions" class="level3" data-number="0.5">
<h3 data-number="0.5" class="anchored" data-anchor-id="retractions"><span class="header-section-number">0.5</span> Retractions</h3>
<p>To close, let me stress how limited my criticisms of Williamson here are. Very briefly, the argument is that there can be some self-presenting mental states, states that are either token identical with the belief that they exist or are constituents of (the contents of) beliefs that they exist, and these beliefs will satisfy all the safety requirements we should want, even in borderline cases. If some conditions are invariably instantiated by self-presenting states, then those conditions will be luminous. And I think it is a live possibility, relative at least to the assumptions Williamson makes, that there are such self-presenting states. But there aren’t very many of them. There is a reason I picked <em>feels cold</em> as my illustration. It’s not laughable that it is self-presenting.</p>
<p>On the other hand, it is quite implausible that, say, <em>knowing where to buy the best Guinness</em> is self-presenting. And for states that are not self-presenting, I think Williamson’s anti-luminosity argument works. That’s because it is very plausible (a) that for a belief to be knowledge it must satisfy either belief-safety or mechanism-safety, (b) a non-self-presenting state satisfies belief-safety or mechanism-safety only if it satisfies content-safety, and (c) as Williamson showed, if beliefs about a state must satisfy content-safety to count as knowledge, then that state is not luminous. So epistemic states, like the state of knowing where to buy the best Guinness, are not luminous. That is to say, one can know where to buy the best Guinness without knowing that one knows this. And saying that (for these reasons) is to just endorse Williamson’s arguments against the KK principle. Those arguments are an important special case of the argument against luminosity, and I don’t see how any of my criticisms of the general argument touch the special case.</p>
<p>Williamson describes his attacks on luminosity as an argument for cognitive homelessness. If a state was luminous, that state would be a cognitive home. Williamson thinks we are homeless. I think we <em>may</em> have a small home in our phenomenal states. This home is not a mansion, perhaps just a small apartment with some afternoon sun, but it may be a home.</p>
<p>Don’t be fooled into thinking this supports any kind of foundationalism about knowledge, however. It is true that <em>if</em> we have the kind of self-presenting states that Mr Davis has (under one of the three descriptions I’ve offered), then we have the self-justifying beliefs that foundationalism needs to get started. But it is at best a wide-open philosophical and scientific question whether we have any such states, while it is not a wide-open question whether we have any knowledge, or any justified beliefs. If these states are the only things that could serve as foundations, it would be at least conceptually possible that we could have knowledge without self-justifying foundations. So the kind of possibility exemplified by Mr Davis cannot, on its own, prop up foundationalism.</p>



</section>


<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-David2002" class="csl-entry" role="listitem">
David, Marian. 2002. <span>“Content Essentialism.”</span> <em>Acta Analytica</em> 17: 103–14. <a href="https://doi.org/10.1007/bf03177510">https://doi.org/10.1007/bf03177510</a>.
</div>
<div id="ref-Gibbons1993" class="csl-entry" role="listitem">
Gibbons, John. 1993. <span>“Identity Without Supervenience.”</span> <em>Philosophical Studies</em> 70 (1): 59–79. <a href="https://doi.org/10.1007/bf00989662">https://doi.org/10.1007/bf00989662</a>.
</div>
<div id="ref-Lewis1996b" class="csl-entry" role="listitem">
Lewis, David. 1996. <span>“Elusive Knowledge.”</span> <em>Australasian Journal of Philosophy</em> 74 (4): 549–67. <a href="https://doi.org/10.1080/00048409612347521">https://doi.org/10.1080/00048409612347521</a>.
</div>
<div id="ref-Sainsbury1996" class="csl-entry" role="listitem">
Sainsbury, Mark. 1995. <span>“Vagueness, Ignorance and Margin for Error.”</span> <em>British Journal for the Philosophy of Science</em> 46: 589–601. <a href="https://doi.org/10.1093/bjps/46.4.589">https://doi.org/10.1093/bjps/46.4.589</a>.
</div>
<div id="ref-Sosa1999" class="csl-entry" role="listitem">
Sosa, Ernest. 1999. <span>“How to Defeat Opposition to Moore.”</span> <em>Philosophical Perspectives</em> 13: 141–53. <a href="https://doi.org/10.1111/0029-4624.33.s13.7">https://doi.org/10.1111/0029-4624.33.s13.7</a>.
</div>
<div id="ref-Weatherson2003-WEAWGA" class="csl-entry" role="listitem">
Weatherson, Brian. 2003. <span>“<span>What Good Are Counterexamples?</span>”</span> <em>Philosophical Studies</em> 115 (1): 1–31. <a href="https://doi.org/10.1023/A:1024961917413">https://doi.org/10.1023/A:1024961917413</a>.
</div>
<div id="ref-Weinberg2001" class="csl-entry" role="listitem">
Weinberg, Jonathan, Stephen Stich, and Shaun Nichols. 2001. <span>“Normativity and Epistemic Intuitions.”</span> <em>Philosophical Topics</em> 29 (1): 429–60. <a href="https://doi.org/10.5840/philtopics2001291/217">https://doi.org/10.5840/philtopics2001291/217</a>.
</div>
<div id="ref-Williamson2000-WILKAI" class="csl-entry" role="listitem">
Williamson, Timothy. 2000. <em><span class="nocase">Knowledge and its Limits</span></em>. Oxford University Press.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>