---
title: "Some Data about Citation Trends"
abstract: |
  In the future I plan to write something substantive about trends in citations in philosophy journals. This is a presentation of some of the underlying data, with some small remarks about the big picture trends.
date: June 20 2024
author:
  - name: Brian Weatherson 
    url: http://brian.weatherson.org
    affiliation: University of Michigan
    affiliation_url: https://umich.edu
    orcid_id: 0000-0002-0830-141X
categories:
  - history of analytic
  - in progress
  - unpublished
pdf-engine: xelatex
execute:
  echo: false
  warning: false
format:
  html:
    fig-format: svg
    fig-height: 9
    fig-width: 12
    fig-dpi: 300
    fig-responsive: true
  pdf:
    fig-format: pdf
    include-after-body: 
        text: |
          \noindent Published online in June 2024.
---

```{r}
#| label: loader
#| cache: false

require(tidyverse)
require(slider)
require(stringr)
require(knitr)

if(knitr::is_latex_output()) {
  knitr::opts_chunk$set(dev = 'cairo_pdf')
}

# Graph Themes
old <- theme_set(theme_minimal())
theme_set(old)
theme_update(plot.title = element_text(family = "Scala Pro", size = 24, face = "bold"),
             plot.subtitle = element_text(family = "Scala Sans Pro", size = 20),
             axis.text = element_text(family = "Scala Sans Pro", size = 18),
             plot.background = element_rect(fill = "#F9FFFF"),
             panel.background = element_rect(fill = "white"),
             legend.background = element_rect(fill = "#F9FFFF"),
             panel.grid = element_line(color = "grey92"),
             legend.text = element_text(family = "Scala Sans Pro", size = 20),
             strip.text = element_text(family = "Scala Sans Pro", size = 20),
             legend.key.spacing.y = unit(0.5, 'lines'),
             legend.key.spacing.x = unit(1, 'cm')
  )

if(knitr::is_latex_output()) {
theme_update(plot.title = element_text(family = "Europa-Bold", size = 14),
             plot.subtitle = element_text(family = "EB Garamond", size = 11),
             axis.text = element_text(family = "EB Garamond", size = 10),
             plot.background = element_rect(fill = "white"),
             panel.background = element_rect(fill = "white"),
             legend.background = element_rect(fill = "white"),
             panel.grid = element_line(color = "grey92"),
             legend.text = element_text(family = "EB Garamond", size = 11),
             strip.text = element_text(family = "EB Garamond", size = 12),
             legend.key.spacing.y = unit(0.5, 'lines'),
             legend.key.spacing.x = unit(0, 'cm')
  )

}

# Find ranks for a given year
rank_table_generator <- function(year){
year_cites <- citation_tibble |>
  filter(old_year == year) |>
  group_by(old) |>
  tally(name = "all") |>
  ungroup() |> 
  left_join (citation_tibble |>
      filter(old_year == year, new_year >= pmax(2013,((year+2022.1)/2))) |>
      group_by(old) |>
      tally(name = "late") |>
      ungroup(),
    by = "old") |>
  left_join (citation_tibble |>
               filter(old_year == year, new_year <= pmin(year+10,((year+2022)/2))) |>
               group_by(old) |>
               tally(name = "early") |>
               ungroup(),
             by = "old") |>
  mutate(early = replace_na(early, 0)) |>
  mutate(late = replace_na(late, 0))

year_cites |>
  add_column(all_rank = min_rank(-year_cites$all)) |>
  add_column(early_rank = min_rank(-year_cites$early)) |>
  add_column(late_rank = min_rank(-year_cites$late)) |>
  filter(old %in% main_bib$old) |>
  left_join(main_bib, by = "old") |>
  select(Article = short_auth, `Citations` = all, `Citation Rank` = all_rank, `Early Citations` = early, `Early Rank` = early_rank, `Late Citations` = late, `Late Rank` =late_rank) |>
  arrange(-Citations)
}
```

```{r}
#| label: setup
#| cache: true

load("philo_bib.RData")
load("philo_cite.RData")

philo_bib <- philo_bib |>
  filter(journal != "Nous" | !str_detect(longcite, "Suppl") | str_detect(longcite, "Sp. Iss."))

authadjust <- function(x){
  paste0(str_extract(x, '\\b[^,]+$'), " ", str_to_title(str_extract(x,".+(?=,)")))
}

authadjust_short <- function(x){
  str_to_title(str_extract(x,".+(?=,)"))
}


article_years <- philo_bib |>
  as_tibble() |>
  select(id, year)

article_title <- philo_bib |>
  as_tibble() |>
  select(id, author, art_title, journal) 

citation_tibble <- philo_cite |>
  as_tibble() |>
  rename(new = id, old = refs) |>
  left_join(article_years, by = c("old" = "id")) |>
  rename(old_year = year)  |>
  left_join(article_years, by = c("new" = "id")) |>
  rename(new_year = year)

main_article_ids <- c()

for(year in (1976:2015)){
  
  topper <- 1
  all_cited <- tribble(~old, ~n)
  
  while(nrow(all_cited) < 9){
    
    
    most_cited <- citation_tibble |>
      filter(old_year == year) |>
      group_by(old) |>
      tally() |>
      ungroup() |>
      slice_max(n, n=topper)
    
    recent_cited <- citation_tibble |>
      filter(old_year == year, new_year >= pmax(2013,((year+2022.1)/2))) |>
      group_by(old) |>
      tally() |>
      ungroup() |>
      slice_max(n, n=topper)
    
    orig_cited <- citation_tibble |>
      filter(old_year == year, new_year <= pmin(year+10,((year+2022)/2))) |>
      group_by(old) |>
      tally() |>
      ungroup() |>
      slice_max(n, n=topper)
    
    all_cited <- bind_rows(most_cited, recent_cited, orig_cited) |>
      distinct(old, .keep_all = TRUE) |>
      mutate(old_year = year)
    
    topper <- topper + 1
  }
  main_article_ids <- bind_rows(
    main_article_ids,
    slice_max(all_cited, n, n=9, with_ties = FALSE)
  )
}

name_fix <- c(
      'Bonjour' = 'BonJour',
      'Mcdowell' = 'McDowell',
      'Mcmullin' = 'McMullin',
      'Mcgee' = 'McGee',
      'Wedgewood' = 'Wedgwood',
      'Mcginn' = 'McGinn',
      'Mcgrath' = 'McGrath',
      'Mckinsey' = 'McKinsey',
      'Macfarlane' = 'MacFarlane',
      'Castaneda' = 'Castañeda',
      'Hajek' = 'Hájek',
      'Vaninwagen' = 'van Inwagen',
      'Vanfraassen' = 'van Fraassen',
      'D\'arms' = 'D\'Arms',
      'Godfreysmith' = 'Godfrey-Smith',
      'Vangelder' = 'van Gelder',
      'Derosset' = 'deRosset'
    )

main_bib <- main_article_ids |>
  left_join(article_title, by = c("old" = "id")) |>
  ungroup() |>
  rowwise() |>
  mutate(graph_auth =  case_when(author[1] == "Pohlhaus, Gaile, Jr." ~ "Gaile Pohlhaus Jr.",
                                 length(author) == 1 ~ authadjust(author[1]),
                                 length(author) == 2 ~ paste0(authadjust(author[1]), " and ", authadjust(author[2])),
                                 length(author) == 3 ~ paste0(authadjust(author[1]), ", ", authadjust(author[2]), ", and ", authadjust(author[3])),
                                 TRUE ~ paste0(authadjust(author[1]), ", et al"))) |>
  mutate(short_auth = case_when(author[1] == "Pohlhaus, Gaile, Jr." ~ "Pohlhaus Jr.",
                                 length(author) == 1 ~ authadjust_short(author[1]),
                                 length(author) == 2 ~ paste0(authadjust_short(author[1]), " and ", authadjust_short(author[2])),
                                 TRUE ~ paste0(authadjust_short(author[1]), " et al"))) |>
  mutate(graph_auth = str_replace_all(
    graph_auth,
    name_fix
  )) |>
  mutate(short_auth = str_replace_all(
    short_auth,
    name_fix
  )) |>
  mutate(graph_cite = paste0(
    graph_auth,
    ", \"",
    art_title,
    ",\""
  )) |>
  mutate(journal = str_replace_all(journal, 'Nous', 'Noûs')) |>
  mutate(graph_cite = str_replace_all(
    graph_cite,
    c(
      ' A ' = ' a ',
      ' And ' = ' and ',
      ' The ' = ' the ',
      ' Or ' = ' or ',
      ' As ' = ' as ',
      ' Of ' = ' of ',
      ' On ' = ' on ',
      ' In ' = ' in ',
      ' For ' = ' for ',
      ' Is ' = ' is ',
      'Decision-Theory' = 'Decision Theory',
      'Modern-History' = 'Modern History',
      'Times Arrow' = 'Time\'s Arrow',
      'Derosset' = 'deRosset',
      'Macfarlane' = 'MacFarlane',
      'Norms Of Assertion (Knowledge Norm Of Assertion, Kna)' = 'Norms of Assertion',
      'Derose' = 'DeRose',
      'Mcgrath' = 'McGrath',
      'Trust? (Epistemic Considerations)' = 'Trust?',
      'D\'arms' = 'D\'Arms',
      'Dimensionalism (Persistence Through Time, Doctrine Of Temporal Parts, Perdurance)' = 'Dimensionalism',
      'Frankfurt Attack on the Principle-Of-Alternative-Possibilities' = 'Frankfurt\'s Attack on the Principle of Alternative Possibilities',
      'Chance And Credence - Humean Supervenience Debugged' = 'Humean Supervenience Debugged',
      'Mckinsey' = 'McKinsey',
      '2 Modelings ' = 'Two Modelings ',
      'Moral Realism + A Form Of Ethical Naturalism' = 'Moral Realism',
      'Actualism + The Exploration And Defense Of Actualism' = 'Actualism',
      'Mcgee' = 'McGee',
      'Vanfraassen' = 'van Fraassen',
      'Putnam Paradox' = 'Putnam\'s Paradox',
      '2 Distinctions' = 'Two Distinctions',
      '3 Theses' = 'Three Theses',
      '2 Notions' = 'Two Notions',
      'Godfreysmith' = 'Godfrey-Smith',
      '2 Concepts' = 'Two Concepts',
      '2 Kinds' = 'Two Kinds',
      '2 Types' = 'Two Types',
      'Mcdowell' = 'McDowell',
      '1st' = 'First',
      'G.e. Moore' = 'G.E. Moore',
      'To-Be' = 'To Be',
      'De-Dicto' = 'De Dicto',
      'De-Se' = 'De Se',
      'Problem of Action' = 'The Problem of Action',
      'Matter of Individuality' = 'A Matter of Individuality',
      'Logic of Paradox' = 'The Logic of Paradox',
      'Problem of the Essential' = 'The Problem of the Essential',
      'and a Ariew' = 'and A Ariew',
      'Ceteris-Paribus' = 'Ceteris Paribus'
    )
  )) |>
  mutate(graph_cite = str_replace_all(
        graph_cite,
        fixed(
          c(
            'Have a Foundation' = 'Have a Foundation?',
            'What An Antiindividualist Knows A-Priori' = 'What An Anti-Individualist Knows A Priori',
            'Functional-Analysis and Proper Functions' = 'Functional Analysis and Proper Functions',
            'to Modus-Ponens' = 'to Modus Ponens',
            'Easy Possibilities (Reliability-Conditional)' = 'Easy Possibilities',
            'Four-Dimensionalism' = 'Four Dimensionalism',
            'The Conceptual Analysts Defense' = 'The Conceptual Analyst\'s Defense',
            'Materialism and Qualia, the Explanatory Gap' = 'Materialism and Qualia: The Explanatory Gap',
            'Saints + Implications for Moral-Philosophy' = 'Saints',
            'All the Worlds a Stage + a Philosophers Reasons To Believe the Stage-View' = 'All the World\'s a Stage',
            'Stalking the Wild Epistemic Engine + Computational Psychology and Cognition' = 'Stalking The Wild Epistemic Engine',
            'Structures of Normative Theories + Addressing the Agent-Neutral and Agent-Centered Distinctions as Substantive Mistakes in Moral Theorizing' = 'Structures of Normative Theories',
            'Moral Realism + a Form of Ethical Naturalism' = 'Moral Realism',
            'Oughts, Options, and Actualism + the Exploration and Defense of Actualism' = 'Oughts, Options, and Actualism',
            'Sense, Nonsense and the Senses, An Inquiry Into the Powers of the Human Mind + 1994 Dewey Lectures At Columbia-University, Lecture 1 - the Antinomy of Reason' = 'Sense, Nonsense, and the Senses: An Inquiry into the Powers of the Human Mind',
            'Finkish Dispositions + Refutation of Simple Conditional Analysis' = 'Finkish Dispositions',
            'Four-Dimensionalism (Persistence Through Time, Doctrine of Temporal Parts, Perdurance)' = 'Four-Dimensionalism',
            'The Extended Mind (Active Externalism)' = 'The Extended Mind',
            'Brutal Composition (Objects, Vagueness, Ontology)' = 'Brutal Composition',
            'Consciousness The Transmutation Of A Concept' = 'Consciousness: The Transmutation Of A Concept',
            'Dispositions and Antidotes (Reply To David Lewis)' = 'Dispositions and Antidotes',
            'Nonexistence (Singular Negative Existentials)' = 'Nonexistence',
            'Is Coherence Truth Conducive? (Belief)' = 'Is Coherence Truth Conducive?',
            'Is There A Fundamental Level? (Reality, Metaphysics, Ontology)' = 'Is There A Fundamental Level?',
            'Emotions (Ethics, Propriety, Correctness)' = 'Emotions',
            'Antidotes (Reply To David Lewis)' = 'Antidotes',
            'Mind (Active Externalism)' = 'Mind',
            'Clay (Problem in Philosophy, Ontology)' = 'Clay',
            ' (Properties, Philosophy)' = '',
            ' (Rationality, Correct Reasoning)' = '',
            ' (A Philosophical Consideration on Propositional Definitions of Acquired Knowing)' = '',
            ' (Epistemic Considerations)' = '',
            'G.e. Moore And John Mcdowell' = 'G.E. Moore and John McDowell',
            ' (Epistemic Warrant)' = '',
            ' (Reality, Metaphysics, Ontology)' = '',
            ' (Knowledge Norm of Assertion, Kna)' = '',
            ' (Keith Lehrer)' = '',
            'Best Explanation - Criteria for Theory Choice' = 'The Best Explanation: Criteria for Theory Choice',
            'What is Equality .1. Equality of Welfare' = 'What is Equality? Part 1: Equality of Welfare',
            'What is Equality .2. Equality of Resources' = 'What is Equality? Part 2: Equality of Resources',
            'Fallacy: on' = 'Fallacy: On',
            'Chance and Credence - Humean Supervenience Debugged' = 'Humean Supervenience Debugged',
            'The Rule-Following Considerations .5.' = 'The Rule-Following Considerations',
            ' - ' = ': ',
            ': a' = ': A',
            ': the' = ': The',
            ': on' = ': On'
            )
        )
      )
    ) |>
  # mutate(graph_auth = str_replace_all(
  #   graph_auth,
  #   c(
  #     'J. S.' = 'J.S.'
  #   )
  # )) |>
  # mutate(spaces_in_auth = str_count(graph_auth, " ")) |>
  # rowwise() |>
  # mutate(short_auth = case_when(
  #   spaces_in_auth == 6 ~ 
  #     paste0(
  #       str_sub(
  #         graph_auth,
  #         start = str_locate_all(graph_auth, " ")[[1]][2] + 1,
  #         end = str_locate_all(graph_auth, " ")[[1]][3] -1 
  #       ),
  #       " and ",
  #       str_sub(
  #         graph_auth,
  #         start = str_locate_all(graph_auth, " ")[[1]][6] + 1,
  #         end = str_length(graph_auth)
  #       )
  #     ),
  #   spaces_in_auth == 5 ~ 
  #     paste0(
  #       str_sub(
  #         graph_auth,
  #         start = str_locate_all(graph_auth, " ")[[1]][1] + 1,
  #         end = str_locate_all(graph_auth, " ")[[1]][2] -1 
  #       ),
  #       " and ",
  #       str_sub(
  #         graph_auth,
  #         start = str_locate_all(graph_auth, " ")[[1]][5] + 1,
  #         end = str_length(graph_auth)
  #       )
  #     ),
  #   spaces_in_auth == 4 ~ 
  #     paste0(
  #       str_sub(
  #         graph_auth,
  #         start = str_locate_all(graph_auth, " ")[[1]][1] + 1,
  #         end = str_locate_all(graph_auth, " ")[[1]][2] -1 
  #       ),
  #       " and ",
  #       str_sub(
  #         graph_auth,
  #         start = str_locate_all(graph_auth, " ")[[1]][4] + 1,
  #         end = str_length(graph_auth)
  #       )
  #     ),
  #   spaces_in_auth == 3 ~ 
  #     paste0(
  #       str_sub(
  #         graph_auth,
  #         start = str_locate_all(graph_auth, " ")[[1]][1] + 1,
  #         end = str_locate_all(graph_auth, " ")[[1]][2] - 2 
  #       ),
  #       " et al"
  #     ),
  #   graph_auth == 'Gaile Pohlhaus Jr.' ~ 'Pohlhaus Jr.',
  #   spaces_in_auth == 2 ~ 
  #     str_sub(
  #       graph_auth,
  #       start = str_locate_all(graph_auth, " ")[[1]][2] + 1,
  #       end = str_length(graph_auth)
  #     ),
  #   TRUE ~  str_sub(
  #     graph_auth,
  #     start = str_locate_all(graph_auth, " ")[[1]][1] + 1,
  #     end = str_length(graph_auth)
  #   )
  # )) |>
  mutate(short_auth = case_when(
    art_title == "Is Conceivability A Guide To Possibility" ~ "Yablo, Conceivability",
    art_title == "Paradox Without Self-Reference" ~ "Yablo, Paradox",
    art_title == "What Is Equality .2. Equality Of Resources" ~ "Dworkin Pt. 2",
    art_title == "What Is Equality .1. Equality Of Welfare" ~ "Dworkin Pt. 1",
    art_title == "In Defense Of Proper Functions" ~ "Millikan, Proper Function",
    art_title == "Biosemantics" ~ "Millikan, Biosemantics",
    art_title == "Concepts Of Supervenience" ~ "Kim, Concepts",
    art_title == "Epiphenomenal And Supervenient Causation" ~ "Kim, Epiphenomenal",
    art_title == "Probabilities Of Conditionals And Conditional Probabilities" ~ "Lewis, Probabilities",
    art_title == "Paradoxes Of Time Travel" ~ "Lewis, Time Travel",
    art_title == "Attitudes De-Dicto And De-Se" ~ "Lewis, De Se",
    art_title == "Counterfactual Dependence And Times Arrow" ~ "Lewis, Time\'s Arrow",
    art_title == "Scorekeeping In A Language Game" ~ "Lewis, Scorekeeping",
    art_title == "Functions As Selected Effects: The Conceptual Analysts Defense" ~ "Neander, Selected",
    art_title == "The Teleological Notion Of Function" ~ "Neander, Teleological",
    short_auth == "Rabinowicz and Ronnow-Rasmussen" ~ "R and R-R",
    short_auth == "Inwagen" ~ "van Inwagen",
    short_auth == "Fraassen" ~ "van Fraassen",
    TRUE ~ short_auth
  )) |>
  left_join(select(philo_bib, id, longcite), by = c("old" = "id")) |>
  rowwise() |>
  mutate(end_of_longcite = str_sub(longcite, str_length(longcite)-35, str_length(longcite)-5)) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, "[a-z]", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, "[A-Z]", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, "[,.?]", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, "^:", "")) |>
  mutate(end_of_longcite = str_squish(end_of_longcite)) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, "^:", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, "^\\)", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, "^\\&", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, "-$", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, " 1$", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, " 2$", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, " 4$", "")) |>
  mutate(end_of_longcite = str_replace_all(end_of_longcite, " 17$", "")) |>
  mutate(end_of_longcite = str_squish(end_of_longcite)) |>
  mutate(end_of_longcite = case_when(
    art_title == "Disagreement, Question-Begging And Epistemic Self-Criticism" ~ "11 (6): 1-22",
    art_title == "Grounding Explanations" ~ "13 (7): 1-26",
    art_title == "The Possibility Of Physicalism" ~ "111 (9-10): 557-592",
    art_title == "Unified Foundations For Essence And Ground" ~ "1 (2): 296-311",
    old == "WOS:000366669500008" ~ "58 (7-8): 828-874",
    TRUE ~ end_of_longcite)
  ) |>
  select(end_of_longcite, everything()) |>
  ungroup()

rolling_averages <- citation_tibble |>
  filter(old %in% main_bib$old) |>
  group_by(old, new_year) |>
  tally(name = "cites") |>
  ungroup() |>
  complete(old, new_year, fill = list(cites = 0)) |>
  filter(new_year <= 2022) |>
  ungroup() |>
  group_by(old) |>
  arrange(old, new_year) |>
  mutate(rolling = slider::slide_dbl(cites, mean, .before = 4)) |>
  left_join(main_bib, by = "old") |>
  select(old, old_year, new_year, cites, rolling, graph_cite, short_auth)

main_bib <- main_bib |>
  mutate(full_citation = paste0(graph_cite, " _", journal, "_ ", end_of_longcite,"."))
```

```{r}
#| label: graph-code
#| cache: false

rolling_spaghetti_graph <- function(x){
  ggplot(filter(rolling_averages, old %in% filter(
    main_bib, old_year == x
    )$old,
    new_year >= x), aes(x = new_year, y = rolling, color = short_auth)) +
    geom_line() +
    theme(legend.position="bottom",
          legend.title = element_blank()) +
    guides(color = guide_legend(nrow = 3, byrow = TRUE)) +
    labs(x = element_blank(),
         y = element_blank(),
         title =  paste0("Widely cited articles from ", x),
         subtitle = "Rolling five year average of citations in 100 philosophy journals") +
    scale_x_continuous(breaks = 198:202 * 10, minor_breaks = 396:404*5) +
    ylim(0, max(20, max(
      filter(rolling_averages, old %in% filter(
        main_bib, old_year == x
      )$old,
      new_year >= x)$rolling
    )))
}

rolling_facet_graph <- function(x){
  temp <- filter(rolling_averages, old_year == x, new_year >= x) |> ungroup() |> arrange(graph_cite)
#  temp$graph_cite <- factor(temp$graph_cite, levels = temp$graph_cite, labels = temp$short_auth)
  background <- temp |> rename(backer = short_auth)
  ggplot(temp, aes(x = new_year, y = rolling, color = short_auth)) +
    geom_line(data = background, aes(x = new_year, y = rolling, group = backer), color = "grey85", alpha = 0.6) +
    geom_line(size = 1, alpha = 1) +
    theme(legend.position="none") +
    labs(x = element_blank(),
         y = element_blank()) +
    scale_x_continuous(breaks = 198:202 * 10, minor_breaks = 396:404*5) +
    facet_wrap(vars(short_auth)) +
    ylim(0, max(20, max(
      filter(rolling_averages, old %in% filter(
        main_bib, old_year == x
      )$old,
      new_year >= x)$rolling
    )))
}
```

I recently downloaded citation data for 100 philosophy journals from Web of Science. This note presents some of the data about trends in citation patterns since 1976. My main interest here is in seeing which changes there have been in what was cited over time, but there are lots of interesting nuggets. Later I'll write a real paper actually going into what some of the data mean, but for now I'm just presenting it for public consumption.

# Methodology {#sec-methodology}

## The Articles Being Studied {#sec-articles-studied}

Via the University of Michigan, I got the latest available database for Web of Science circa January 2024. I created a file of every citation where both the citing article and the cited article were from one of the 100 journals in @tbl-list-of-journals, in the years that they were indexed by Web of Science.

```{r}
#| label: tbl-list-of-journals
#| tbl-cap: The journals included in this study

require(knitr)
temp <- philo_bib |>
  group_by(journal) |> 
  summarise(Articles = n(), `First Year` = min(year), `Most Recent Year` = max(year)) |>
  rename(Journal = journal)
kable(temp)
```

Of course the first year isn't the first year the journal started publishing; it's when Web of Science started indexing them. And the last year isn't when they ceased publishing; it's the most recent year indexed. Web of Science is very slow at adding journals, and at adding volumes. But it is, as far as I've found, pretty accurate within what it adds.

One big exception to this is that it's never really understood how to handle the 'supplements' to _Noûs_, i.e., _Philosophical Perspectives_ and _Philosophical Issues_. Some of these are recorded as being their own thing, some of them are recorded as special issues of _Noûs_. In the latter case, the citations often only start being tracked several years after publication, and the bibliographic information is spotty. I've manually removed the ones that were listed as being published in _Noûs_ but actually in one of the supplements, because the data didn't seem sufficiently reliable.

Because Web of Science keeps adding journals, and journals keep getting larger, the number of articles in this study keeps going up. The only downward pressure comes from the fact that some journals haven't been indexed for 2022 or even, in some cases, 2021. @fig-number-of-articles-by-year shows how many articles each year are in the study.

```{r}
#| label: fig-number-of-articles-by-year
#| fig-cap: "Number of articles in the study each year" 

philo_bib |>
  group_by(year) |>
  filter(year >= 1976, year <= 2022) |>
  tally() |>
  ggplot(aes(x = year, y = n)) +
    geom_line() +

    labs(x = element_blank(),
         y = element_blank(),
         title = "Number of Articles in Database Each Year") +
  scale_x_continuous(breaks = 197:202 * 10, minor_breaks = 393:404*5) 
```

On top of that, citation practices have changed and people now cite much more widely than they used to. So the number of citations recorded each year (to articles since 1976 indexed in these 100 journals), has risen rather dramatically, as shown in @fig-number-of-citations-by-year.

```{r}
#| label: fig-number-of-citations-by-year
#| fig-cap: "Number of citations to articles in the study each year" 

citation_tibble |>
  group_by(new_year) |>
  filter(new_year >= 1976, new_year <= 2022) |>
  tally() |>
  ggplot(aes(x = new_year, y = n)) +
  geom_line() +
  theme(legend.position="bottom",
        legend.title = element_blank(),
        legend.direction = "vertical") +
  labs(x = element_blank(),
       y = element_blank(),
       title = "Number of Citations in Database Each Year") +
  scale_x_continuous(breaks = 197:202 * 10, minor_breaks = 393:404*5) 
```

On the other hand, since the overwhelming majority of citations are to articles published earlier than the citing article, a larger number of citations in total might be consistent with fewer citations per article available to be cited. If we somewhat arbitrarily set the universe of possible cited papers to be the set of papers with the same publication date as the citing article or earlier, @fig-average-of-citations-by-year shows how often the average paper was cited each year (in these 100 journals).

```{r}
#| label: fig-average-of-citations-by-year
#| fig-cap: "Average number of citations per available article in each each year" 

# Burp

article_years_summary <- article_years |>
  ungroup() |>
  group_by(year) |>
  tally(name = "yearly_articles") |>
  mutate(cumulative_articles = cumsum(yearly_articles))

mean_citations <- citation_tibble |>
  group_by(new_year) |>
  tally(name = "yearly_citations") |>
  left_join(article_years_summary, by = c("new_year" = "year")) |>
  mutate(mean_citations = yearly_citations/cumulative_articles) |>
  filter(new_year <= 2022)

ggplot(mean_citations, aes(x = new_year, y = mean_citations)) +
  geom_line() +
  theme(legend.position="bottom",
        legend.title = element_blank(),
        legend.direction = "vertical") +
  labs(x = element_blank(),
       y = element_blank(),
       title = "Average number of citations articles get each year",
       subtitle = "Number of citations in a year divided by articles published up to that year") +
  scale_x_continuous(breaks = 197:202 * 10, minor_breaks = 393:404*5) 
```

Between about 1978 and 2004, the different forces are roughly balanced. There are more papers, and each paper cites more often, but there are more papers available to be cited, and the mean stays at about 0.1. (Of course articles do get cited outside of journals indexed in Web of Science, but it's still a bit humbling to realise that's the historical average, even if one gets published in a journal as good as one of these.) But then the forces pushing this number up take over. This is important context for a lot of the graphs below, where the typical article will have a graph of citations per year that looks a bit like this.

## The Focus {#sec-focus}

For each year up to 2015, I made three lists. (After 2015 the citation data is all too new to be particularly useful I think.) First, a list of the articles published that year sorted by how many times they are cited. Second, the same list sorted by how many times they are cited in what I call _early_ years. That's either the first ten years after publication, or half of the time between publication and 2022, whichever is shorter. Third, the same list sorted by how many times they are cited in what I call _late_ years, which is either the last ten years of the study, or the years since publication that are not 'early', again whichever is shorter. Given how many of the citations come from the last few years, the first and third lists overlap a lot. As we get closer to the end of the study, the early cites tend to be very volatile, and there is a bit of impact from how easy journals made it for their papers to be cited prior to official publication through online early access.

After making those three lists, I found the largest _n_ such that taking the top _n_ from those three lists gave me nine total articles per year. (If forced to choose, I chose the articles with the most total citations.) So we got a mix largely of highly cited articles, and articles that were highly cited soon after publication. With nine articles each year, and forty years between 1976 and 2015, we end up with 360 articles. I won't list them here because they are all listed in one way or other below.

The 360 articles are, for better and for worse, a pretty representative sample of what was happening in those journals, and in particular what was being widely talked about in those journals. They wouldn't match up with my list of the best 360 articles from those forty years, or I suspect anyone else's list of the best 360 articles. But I do think they are an interesting model of the field as it was across those years.

It was not a surprise that the famously high prestige journals have the bulk of these articles. But there was more variation within the list than some may have expected, as we see in @tbl-journals-in-main-bib.

```{r}
#| label: tbl-journals-in-main-bib
#| tbl-cap: Which journals the 360 articles appeared in.

kable(
  main_bib |>
    group_by(journal) |>
    tally(name = "Articles") |>
    arrange(-Articles) |>
    rename(Journal = journal)
)
```
  
A bit under half the articles (166 out of 360) are in the journals widely taken to be the big five: Journal of Philosophy, Philosophical Review, Mind, Noûs, and Philosophy and Phenomenological Research. @tbl-recent-journals-in-main-bib shows what happens if we restrict attention to just the last ten years, and look at which articles from 2006 to 2015 are widely cited in this sense. There is one particularly striking result.

```{r}
#| label: tbl-recent-journals-in-main-bib
#| tbl-cap: Which journals the most recent 90 articles appeared in.

kable(
  main_bib |>
    filter(old_year >= 2006) |>
    group_by(journal) |>
    tally(name = "Articles") |>
    arrange(-Articles) |>
    rename(Journal = journal)
)
```

The big five still cover nearly half of the articles, but the journal with the most representatives is _Philosophical Studies_. Now part of that is that it publishes so many articles, but lots of journals publish lots of articles without having this much impact.

## Short Observations

In longer work I plan to make a lot of notes about the data that's presented here. But for now I'll just note a few things about changes in the citation patterns over the last forty years.

There are a few reasons that articles might be widely cited immediately after they come out, and then not so widely cited after a few years.

- The article might get turned into a book, and people simply cite the book. You can see that happening in the data below with articles by Ted Sider, by John MacFarlane, and by Timothy Williamson, for example. It's not part of this study, but not that many people cite Lewis's 1973 paper on counterfactuals, because they mostly cite his 1973 book on counterfactuals. But books don't always soak up the citations that papers would otherwise have received. People didn't take the discussion of natural properties in _Plurality_ to mean they should stop citing "New Work". Jason Stanley and Timothy Williamson's paper on knowing how gets more citations after Stanley's book on know how comes out. Still, it is one relatively mundane reason that a paper doesn't get much attention.
- The article might simply get superseded. This can happen with technical papers in particular. If a paper has some useful technical developments, but they are incorporated into later and better work, perhaps people just stop citing the earlier work.
- If the article is a negative article, it might simply convince people not to pay attention to a particular debate. I suspect this happens a bit, but it's hard to find clear cases of it. People didn't stop citing _Sense and Sensibilia_ when they decided sense-data theory had been a mistake, and I suspect that's the more usual situation.

Sometimes articles stop getting cited because the philosophical fashion moves on, and they seem like a relic of an earlier age. You really see this in the data below with articles about **supervenience**. Now I'm enough of an old fashioned intensionalist to think that getting clear on the different kinds of supervenience is in fact a worthwhile project. But the discipline as a whole doesn't really agree. Nobody is citing the work, especially the early work, on different concepts of supervenience.

What would have been even more shocking to me thirty years ago is how little attention is paid in the journals now to debates about content externalism. That felt like the most important debate in philosophy for so long, and now it simply isn't.

From the other direction, what has picked up the attention? There are two important things to look at here: new topics, and topics that get more attention now than they used to. The first one is easy: the big new topics at the end of the data set are **conceptual engineering** and **grounding**. The second is, to my mind, more interesting. 

There are two categories of articles that stand out immediately among the papers that are more widely cited now than when they first came out. 

The biggest of these is **social philosophy**. In this I'm including Rae Langton's 1993 article on silencing, Sally Haslanger's 2000 _Noûs_ article on race and gender, and Kristie Dotson's 2011 article on epistemic violence. But I'm also including things like Michael Bratman's 1992 and 1993 articles on collective action. It's a bit of a stretch, but one might also see the various articles on trust that show up below (by Annette Baier, Richard Holton, and Karen Jones), as being of the move towards more social philosophy. Philosophy in the twentieth century was very focussed on individuals; there is much more attention now to groups and societies.

The other category is papers on **probability**. Some papers from the 1990s, such as Richard Foley's 1992 paper that set out the Lockean theory of belief, and Jim Joyce's 1998 paper setting up the accuracy-dominance approoach, are much more widely discussed now than they were immediately after they came out.

One of my aims with this is to use the co-citation relations between these 360 papers to find more categories, and especially categories that are linked by more than my gut feeling that they fit together. But that's a project for a much longer piece.

## Future Goals {#sec-future-goals}

I'm very interested to hear ideas other people have for what might be done with this data, and surrounding data. Here are some of the ideas I have for future research.

The biggest project I've started involves cluster-detection. I've created a table of how many times each pair of these 360 articles was co-cited with every other one (among the hundred journals I'm studying). I've tried running that through various cluster-detecting algorithms to see if there are naturally occurring clusters of articles. The results are a bit messy right now, but maybe with some tidying they could be usefully used to see what trends there are in topics, or in classifying journals by which kinds of articles they publish.

Otherwise I've got the following tentative ideas.

- Graphing the gender balance among authors over time among these 360 articles.
- Comparing how widely cited David Lewis's 1980s AJP articles are to how widely cited all other articles from the AJP in those years were.
- Looking at how "Epiphenomenal Qualia" came to be cited so much more than "What Mary Didn't Know".
- Looking at the very different citation trends for articles by the Churchlands.
- Separating out age, cohort, and period effects among the various trends shown here.
- In particular, looking at the 1986-1990 cohort, and seeing whether the relatively low citation numbers shown here are because citations to that cohort tended to be more spread out (and so just looking at the peaks, like I'm doing here, will miss a lot), or because in general later philosophers paid less attention to articles from the late 1980s than other eras. And if it's the latter, is that something broader about the era, or about the relative importance of journals to other publications in that time?
- Looking at the transitions from supervenience, to truthmaking, to grounding, in metaphysics over the time of the study, with special attention to the connection between that story and the debates about physicalism.
- Making a bibtex file for these 360 articles.
- Seeing what connections there are between paper length and number of citations.
- Looking at how central papers on equality and egalitarianism are to political philosophy over the years.
- Looking at the way the literature on trust developed.

But there are lots of other stories here to be investigated, and I'd love to hear what other ideas people have for what could be done with it.


```{r}
#| label: this-cannot-work

# Note: Run this fragment before rendering document
setwd("~/Documents/quarto-articles/posts/citations-raw-data")
the_code <- c()

for (year in 1976:2015){
# Widely Cited Articles subsection
    the_code <- c(the_code,
                "\n## ",
                year,
                " {#sec-s",
                year,
                "}\n\n### Widely Cited Articles {-}\n\n")
  temp <- filter(main_bib, old_year == year) |> rename(Articles = full_citation) |> select(Articles)
  for (i in 1:9){
    the_code <- c(the_code, i, ". ", temp$Articles[i], "\n")
  }

# Citation Count Section
  the_code <- c(the_code,
                "\n### Citation Count {-#sec-count-",
                year,
                "}\n\n",
                 "\`\`\`{r}\n",
                "#| label: tbl-citation-count-",
                year,
                "\n",
                "#| tbl-cap: Citation count for widely cited articles from ",
                year,
                ".",
                "\n\n",
                "year_cites <- rank_table_generator(",year,")\n",
                "kable(select(year_cites, Article, All = Citations, Early = \`Early Citations\`, Late = \`Late Citations\`))\n",
                "\`\`\`",
                "\n\n")
  
# Citation Rank Section
  the_code <- c(the_code,
                "\n### Citation Rank {-#sec-rank-",
                year,
                "}\n\n",
                 "\`\`\`{r}\n",
                "#| label: tbl-citation-rank-",
                year,
                "\n",
                "#| tbl-cap: Citation rank for widely cited articles from ",
                year,
                ".",
                "\n\n",
                "kable(select(year_cites, Article, Overall = \`Citation Rank\`, Early = \`Early Rank\`, Late = \`Late Rank\`))\n",
                "\`\`\`",
                "\n\n")

# Spaghetti Graph
  the_code <- c(the_code,
                "\n### Citation Trends {-#sec-trends-",
                year,
                "}\n\n",
                "\`\`\`{r}\n",
                "#| label: fig-citation-spaghetti-",
                year,
                "\n",
                "#| fig-cap: Rolling five year average of citation frequency for widely cited articles from ",
                year,
                ".",
                "\n",
                "#| cache: TRUE",
                "\n\n",
                "rolling_spaghetti_graph(",
                year,
                ")\n",
                "\`\`\`",
                "\n\n"
)
  
  # Facet Graph
  the_code <- c(the_code,
                "\`\`\`{r}\n",
                "#| label: fig-citation-facet-",
                year,
                "\n",
                "#| fig-cap: Faceted version of @fig-citation-spaghetti-",
                year,
                ".",
                "\n",
                "#| cache: TRUE",
                "\n\n",
                "rolling_facet_graph(",
                year,
                ")\n",
                "\`\`\`",
                "\n\n\\newpage\n\n"
)
}

cat(the_code, sep = "", file = "_section-2.qmd")
```

# Yearly Data

{{< include _section-2.qmd >}}
